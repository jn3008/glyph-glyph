import{h as i,p as _,c as b,g as u,e as h,t as w,a as p,b as g,d as c,f as k,s as x,i as z}from"./dictionary.D4SyCOev.js";import{g as a}from"./index.C7ygDqEZ.js";import{s as C,l as S}from"./persistent-stores.5fR2uNy4.js";function o(t){var r;const e=(r=a(c))==null?void 0:r.path;switch(e[0]){case"kana":return h.get(w(t))??[p(t)];case"greek":switch(e[1]){case"transcriptions":return u.transcriptions[t.toLowerCase()];case"names":return u.names[t.toLowerCase()];default:return[]}case"cyrillic":return b.transcriptions[e[1]][t.toLowerCase()];case"persoarabic":{const s=_.transcriptions[e[1]];switch(e[1]){case"arabic":return s[e[2]][f(t)];default:return s[f(t)]}}case"hangul":switch(e[1]){case"vowels":return i.transcriptions.vowels[t];case"consonants":switch(e[2]){case"choseong":return i.transcriptions.initial[t];case"batchim":return i.transcriptions.final[t];default:return[]}}default:return[]}}function I(t){return o(t)[0]==="-"}function f(t){for(const[e,r]of Object.entries(g))if(Object.values(r).includes(t))return r.isolated;return null}function H(t,e){var r;if(!((r=a(c))!=null&&r.is_valid))return!1;switch(a(c).path[0]){case"kana":return o(e).includes(p(t.toLowerCase()));default:return o(e).includes(t)}}function d(t){return{items:x(t).map((r,s)=>({id:`item-${s}`,glyph:r})),current_idx:0}}function q(){let t=[];k.subscribe(r=>{t=r});const e=C("quiz-session",d(t));return{subscribe:e.subscribe,reset(){e.set(d(t))},sync(r,s,n){e.update(()=>({items:r,current_idx:s,is_timing:n}))},updateIndex(r){e.update(({items:s})=>({items:s,current_idx:r}))},updateItem(r,s){e.update(({items:n,current_idx:m})=>(n[r]=s(n[r]),{items:n,current_idx:m}))},updateTiming(r){e.update(({items:s,current_idx:n})=>({items:s,current_idx:n,is_timing:r}))}}}const O=q(),v=z.reduce((t,e)=>(t[e]=-1,t),{}),l=S("high-scores",v);function P(t,e){const r=a(l)[t];return r<0||e<r?(l.update(s=>({...s,[t]:e})),!0):!1}export{o as a,H as b,f as g,l as h,I as i,O as q,P as u};
