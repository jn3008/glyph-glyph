import{p as u,c,g as f,e as b,t as w,a as m,b as h,d as i,f as g,s as C,h as k}from"./dictionary.oij6mhXY.js";import{g as a}from"./index.C7ygDqEZ.js";import{s as L,l as x}from"./persistent-stores.5fR2uNy4.js";function d(r){var t;switch((t=a(i))==null?void 0:t.path[0]){case"kana":return b.get(w(r))??[m(r)];case"greek":switch(a(i).path[1]){case"transcriptions":return f.transcriptions[r.toLowerCase()];case"names":return f.names[r.toLowerCase()];default:return[]}case"cyrillic":switch(a(i).path[1]){case"bulgarian":return c.bg_transcriptions[r.toLowerCase()];case"russian":return c.ru_transcriptions[r.toLowerCase()];case"serbian":return c.sr_transcriptions[r.toLowerCase()];default:return[]}case"persoarabic":switch(a(i).path[1]){case"arabic":switch(a(i).path[3]){case"standard":return u.arabic_transcriptions[o(r)];default:return[]}case"persian":return u.persian_transcriptions[o(r)];case"urdu":return u.urdu_transcriptions[o(r)];default:return[]}default:return[]}}function I(r){return d(r)[0]==="-"}function o(r){for(const[t,e]of Object.entries(h))if(Object.values(e).includes(r))return e.isolated;return null}function v(r,t){var e;if(!((e=a(i))!=null&&e.is_valid))return!1;switch(a(i).path[0]){case"kana":return d(t).includes(m(r.toLowerCase()));default:return d(t).includes(r)}}function l(r){return{items:C(r).map((e,s)=>({id:`item-${s}`,glyph:e})),current_idx:0}}function z(){let r=[];g.subscribe(e=>{r=e});const t=L("quiz-session",l(r));return{subscribe:t.subscribe,reset(){t.set(l(r))},sync(e,s,n){t.update(()=>({items:e,current_idx:s,is_timing:n}))},updateIndex(e){t.update(({items:s})=>({items:s,current_idx:e}))},updateItem(e,s){t.update(({items:n,current_idx:_})=>(n[e]=s(n[e]),{items:n,current_idx:_}))},updateTiming(e){t.update(({items:s,current_idx:n})=>({items:s,current_idx:n,is_timing:e}))}}}const H=z(),S=k.reduce((r,t)=>(r[t]=-1,r),{}),p=x("high-scores",S);function O(r,t){const e=a(p)[r];return e<0||t<e?(p.update(s=>({...s,[r]:t})),!0):!1}export{v as a,d as g,p as h,I as i,H as q,O as u};
