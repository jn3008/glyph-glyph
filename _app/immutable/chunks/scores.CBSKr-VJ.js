import{au as et,Z as tt,h as j,a1 as Y,d as nt,G as rt,as as Se,$ as at,a0 as he,a2 as V,a6 as R,aD as H,a3 as Ne,a4 as Te,a5 as st,E as pe,aE as de,aF as it,ar as ot,aG as ct,aB as ut,ak as lt,ao as ft,ah as ht,q as pt,aH as ee,aI as te,Y as dt,z as ge,aJ as Ce,aK as gt,aL as mt,am as yt}from"./utils.Orrw684n.js";import{g as T,d as _t}from"./index.CoOIDogu.js";import{c as Me,l as bt}from"./settings.C6SVDol6.js";function In(e,t){return t}function At(e,t,n,r){for(var a=[],s=t.length,i=0;i<s;i++)it(t[i].e,a,!0);var o=s>0&&a.length===0&&n!==null;if(o){var c=n.parentNode;ot(c),c.append(n),r.clear(),E(e,t[0].prev,t[s-1].next)}ct(a,()=>{for(var u=0;u<s;u++){var f=t[u];o||(r.delete(f.k),E(e,f.prev,f.next)),ut(f.e,!o)}})}function Kn(e,t,n,r,a,s=null){var i=e,o={flags:t,items:new Map,first:null},c=(t&Ce)!==0;if(c){var u=e;i=j?Y(lt(u)):u.appendChild(et())}j&&nt();var f=null,g=!1;tt(()=>{var _=n(),l=rt(_)?_:_==null?[]:Se(_),p=l.length;if(g&&p===0)return;g=p===0;let m=!1;if(j){var N=i.data===at;N!==(p===0)&&(i=he(),Y(i),V(!1),m=!0)}if(j){for(var y=null,b,A=0;A<p;A++){if(R.nodeType===8&&R.data===ft){i=R,m=!0,V(!1);break}var w=l[A],h=r(w,A);b=xe(R,o,y,null,w,h,A,a,t),o.items.set(h,b),y=b}p>0&&Y(he())}if(!j){var d=ht;kt(l,o,i,a,t,(d.f&H)!==0,r)}s!==null&&(p===0?f?Ne(f):f=Te(()=>s(i)):f!==null&&st(f,()=>{f=null})),m&&V(!0),n()}),j&&(i=R)}function kt(e,t,n,r,a,s,i,o){var oe,ce,ue,le;var c=(a&gt)!==0,u=(a&(ee|te))!==0,f=e.length,g=t.items,_=t.first,l=_,p,m=null,N,y=[],b=[],A,w,h,d;if(c)for(d=0;d<f;d+=1)A=e[d],w=i(A,d),h=g.get(w),h!==void 0&&((oe=h.a)==null||oe.measure(),(N??(N=new Set)).add(h));for(d=0;d<f;d+=1){if(A=e[d],w=i(A,d),h=g.get(w),h===void 0){var Xe=l?l.e.nodes_start:n;m=xe(Xe,t,m,m===null?t.first:m.next,A,w,d,r,a),g.set(w,m),y=[],b=[],l=m.next;continue}if(u&&wt(h,A,d,a),h.e.f&H&&(Ne(h.e),c&&((ce=h.a)==null||ce.unfix(),(N??(N=new Set)).delete(h))),h!==l){if(p!==void 0&&p.has(h)){if(y.length<b.length){var U=b[0],O;m=U.prev;var ie=y[0],G=y[y.length-1];for(O=0;O<y.length;O+=1)me(y[O],U,n);for(O=0;O<b.length;O+=1)p.delete(b[O]);E(t,ie.prev,G.next),E(t,m,ie),E(t,G,U),l=U,m=G,d-=1,y=[],b=[]}else p.delete(h),me(h,l,n),E(t,h.prev,h.next),E(t,h,m===null?t.first:m.next),E(t,m,h),m=h;continue}for(y=[],b=[];l!==null&&l.k!==w;)(s||!(l.e.f&H))&&(p??(p=new Set)).add(l),b.push(l),l=l.next;if(l===null)continue;h=l}y.push(h),m=h,l=h.next}if(l!==null||p!==void 0){for(var K=p===void 0?[]:Se(p);l!==null;)(s||!(l.e.f&H))&&K.push(l),l=l.next;var q=K.length;if(q>0){var Ze=a&Ce&&f===0?n:null;if(c){for(d=0;d<q;d+=1)(ue=K[d].a)==null||ue.measure();for(d=0;d<q;d+=1)(le=K[d].a)==null||le.fix()}At(t,K,Ze,g)}}c&&pt(()=>{var fe;if(N!==void 0)for(h of N)(fe=h.a)==null||fe.apply()}),pe.first=t.first&&t.first.e,pe.last=m&&m.e}function wt(e,t,n,r){r&ee&&de(e.v,t),r&te?de(e.i,n):e.i=n}function xe(e,t,n,r,a,s,i,o,c,u){var f=(c&ee)!==0,g=(c&mt)===0,_=f?g?dt(a):ge(a):a,l=c&te?ge(i):i,p={i:l,v:_,k:s,a:null,e:null,prev:n,next:r};try{return p.e=Te(()=>o(e,_,l),j),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function me(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var i=yt(s);a.before(s),s=i}}function E(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function L(e){return e===null?"null":e!==Object(e)?typeof e:{}.toString.call(e).slice(8,-1).toLowerCase()}function k(e){return L(e)!=="string"?!0:!e.length}function I(e="",t,n){if(k(e))return!1;const r=e.charCodeAt(0);return t<=r&&r<=n}const ye={HIRAGANA:"toHiragana",KATAKANA:"toKatakana"},Le={HEPBURN:"hepburn"},vt={useObsoleteKana:!1,passRomaji:!1,convertLongVowelMark:!0,upcaseKatakana:!1,IMEMode:!1,romanization:Le.HEPBURN},Ot=65,Et=90,ne=12353,jt=12438,re=12449,St=12540,Nt=19968,Tt=40879,Ct=12293,Mt=12540,xt=12539,Lt=[0,127],It=[[256,257],[274,275],[298,299],[332,333],[362,363]],Kt=[[8216,8217],[8220,8221]],Rt=[Lt,...It],zt=[[32,47],[58,63],[91,96],[123,126],...Kt];var _e=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ut(e,t){return!!(e===t||_e(e)&&_e(t))}function Dt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Ie(e,t){t===void 0&&(t=Dt);var n=null;function r(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var i=e.apply(this,a);return n={lastResult:i,lastArgs:a,lastThis:this},i}return r.clear=function(){n=null},r}var be=Object.prototype.hasOwnProperty;function Ae(e,t,n){for(n of e.keys())if(C(n,t))return n}function C(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&C(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(a=r,a&&typeof a=="object"&&(a=Ae(t,a),!a)||!t.has(a))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(a=r[0],a&&typeof a=="object"&&(a=Ae(t,a),!a)||!C(r[1],t.get(a)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(be.call(e,n)&&++r&&!be.call(t,n)||!(n in t)||!C(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const B=(e={})=>Object.assign({},vt,e);function Ke(e,t,n){const r=t;function a(o,c){if(o[c]!==void 0)return Object.assign({"":o[""]+c},o[c])}function s(o,c){const u=o.charAt(0);return i(Object.assign({"":u},r[u]),o.slice(1),c,c+1)}function i(o,c,u,f){if(!c)return n||Object.keys(o).length===1?o[""]?[[u,f,o[""]]]:[]:[[u,f,null]];if(Object.keys(o).length===1)return[[u,f,o[""]]].concat(s(c,f));const g=a(o,c.charAt(0));return g===void 0?[[u,f,o[""]]].concat(s(c,f)):i(g,c.slice(1),u,f+1)}return s(e,0)}function ae(e){return Object.entries(e).reduce((t,[n,r])=>{const a=L(r)==="string";return t[n]=a?{"":r}:ae(r),t},{})}function Re(e,t){return t.split("").reduce((n,r)=>(n[r]===void 0&&(n[r]={}),n[r]),e)}function ze(e={}){const t={};return L(e)==="object"&&Object.entries(e).forEach(([n,r])=>{let a=t;n.split("").forEach(s=>{a[s]===void 0&&(a[s]={}),a=a[s]}),a[""]=r}),function(r){const a=JSON.parse(JSON.stringify(r));function s(i,o){return i===void 0||L(i)==="string"?o:Object.entries(o).reduce((c,[u,f])=>(c[u]=s(i[u],f),c),i)}return s(a,t)}}function Ue(e,t){return t?L(t)==="function"?t(e):ze(t)(e):e}const Ht={a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}},Pt={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},ke={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},De={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},He={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},we={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"},Jt=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},He,De),Bt={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},Gt={wh:"う",kw:"く",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"};function qt(){const e=ae(Ht),t=a=>Re(e,a);Object.entries(ke).forEach(([a,s])=>{Object.entries(De).forEach(([i,o])=>{t(a+i)[""]=s+o})}),Object.entries(Pt).forEach(([a,s])=>{t(a)[""]=s}),Object.entries(Gt).forEach(([a,s])=>{Object.entries(He).forEach(([i,o])=>{const c=t(a+i);c[""]=s+o})}),["n","n'","xn"].forEach(a=>{t(a)[""]="ん"}),e.c=JSON.parse(JSON.stringify(e.k)),Object.entries(we).forEach(([a,s])=>{const i=a.slice(0,a.length-1),o=a.charAt(a.length-1),c=t(i);c[o]=JSON.parse(JSON.stringify(t(s)))});function n(a){return[...Object.entries(we),["c","k"]].reduce((s,[i,o])=>a.startsWith(o)?s.concat(a.replace(o,i)):s,[])}Object.entries(Jt).forEach(([a,s])=>{const i=g=>g.charAt(g.length-1),o=g=>g.slice(0,g.length-1),c=`x${a}`,u=t(c);u[""]=s;const f=t(`l${o(a)}`);f[i(a)]=u,n(a).forEach(g=>{["l","x"].forEach(_=>{const l=t(_+o(g));l[i(g)]=t(_+a)})})}),Object.entries(Bt).forEach(([a,s])=>{t(a)[""]=s});function r(a){return Object.entries(a).reduce((s,[i,o])=>(i?s[i]=r(o):s[i]=`っ${o}`,s),{})}return[...Object.keys(ke),"c","y","w","j"].forEach(a=>{const s=e[a];s[a]=r(s)}),delete e.n.n,Object.freeze(JSON.parse(JSON.stringify(e)))}let $=null;function Yt(){return $==null&&($=qt()),$}const Vt=ze({wi:"ゐ",we:"ゑ"});function $t(e){const t=JSON.parse(JSON.stringify(e));return t.n.n={"":"ん"},t.n[" "]={"":"ん"},t}function Wt(e=""){return k(e)?!1:I(e,Ot,Et)}function z(e=""){return k(e)?!1:e.charCodeAt(0)===Mt}function Pe(e=""){return k(e)?!1:e.charCodeAt(0)===xt}function Je(e=""){return k(e)?!1:z(e)?!0:I(e,ne,jt)}function P(e=""){const t=[];return e.split("").forEach(n=>{if(z(n)||Pe(n))t.push(n);else if(Je(n)){const r=n.charCodeAt(0)+(re-ne),a=String.fromCharCode(r);t.push(a)}else t.push(n)}),t.join("")}const Be=Ie((e,t,n)=>{let r=Yt();return r=e?$t(r):r,r=t?Vt(r):r,n&&(r=Ue(r,n)),r},C);function Q(e="",t={},n){let r;return n?r=t:(r=B(t),n=Be(r.IMEMode,r.useObsoleteKana,r.customKanaMapping)),Ft(e,r,n).map(a=>{const[s,i,o]=a;if(o===null)return e.slice(s);const c=r.IMEMode===ye.HIRAGANA,u=r.IMEMode===ye.KATAKANA||[...e.slice(s,i)].every(Wt);return c||!u?o:P(o)}).join("")}function Ft(e="",t={},n){const{IMEMode:r,useObsoleteKana:a,customKanaMapping:s}=t;return n||(n=Be(r,a,s)),Ke(e.toLowerCase(),n,!r)}function Qt(e=""){return k(e)?!1:Rt.some(([t,n])=>I(e,t,n))}function se(e="",t){const n=L(t)==="regexp";return k(e)?!1:[...e].every(r=>{const a=Qt(r);return n?a||t.test(r):a})}function X(e=""){return I(e,re,St)}function Xt(e=""){return k(e)?!1:[...e].every(Je)}function Ge(e=""){return k(e)?!1:[...e].every(X)}function Zt(e=""){return k(e)?!1:e.charCodeAt(0)===Ct}function en(e=""){return I(e,Nt,Tt)||Zt(e)}function tn(e=""){return k(e)?!1:[...e].every(en)}function qe(e="",t={passKanji:!0}){const n=[...e];let r=!1;return t.passKanji||(r=n.some(tn)),(n.some(Xt)||n.some(Ge))&&n.some(se)&&!r}const nn=(e,t)=>z(e)&&t<1,rn=(e,t)=>z(e)&&t>0,an=e=>["ヶ","ヵ"].includes(e),sn={a:"あ",i:"い",u:"う",e:"え",o:"う"};function J(e="",t,{isDestinationRomaji:n,convertLongVowelMark:r}={}){let a="";return e.split("").reduce((s,i,o)=>{if(Pe(i)||nn(i,o)||an(i))return s.concat(i);if(r&&a&&rn(i,o)){const c=t(a).slice(-1);return X(e[o-1])&&c==="o"&&n?s.concat("お"):s.concat(sn[c])}if(!z(i)&&X(i)){const c=i.charCodeAt(0)+(ne-re),u=String.fromCharCode(c);return a=u,s.concat(u)}return a="",s.concat(i)},[]).join("")}let W=null;const on={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",や:"ya",ゆ:"yu",よ:"yo",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",ゔぁ:"va",ゔぃ:"vi",ゔ:"vu",ゔぇ:"ve",ゔぉ:"vo"},cn={"。":".","、":",","：":":","・":"/","！":"!","？":"?","〜":"~",ー:"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","　":" "},un=["あ","い","う","え","お","や","ゆ","よ"],F={ゃ:"ya",ゅ:"yu",ょ:"yo"},ln={ぃ:"yi",ぇ:"ye"},fn={ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},hn=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],pn={し:"sh",ち:"ch",じ:"j",ぢ:"j"},dn={っ:"",ゃ:"ya",ゅ:"yu",ょ:"yo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},ve={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};function gn(){return W==null&&(W=yn()),W}function mn(e){switch(e){case Le.HEPBURN:return gn();default:return{}}}function yn(){const e=ae(on),t=r=>Re(e,r),n=(r,a)=>{t(r)[""]=a};return Object.entries(cn).forEach(([r,a])=>{t(r)[""]=a}),[...Object.entries(F),...Object.entries(fn)].forEach(([r,a])=>{n(r,a)}),hn.forEach(r=>{const a=t(r)[""][0];Object.entries(F).forEach(([s,i])=>{n(r+s,a+i)}),Object.entries(ln).forEach(([s,i])=>{n(r+s,a+i)})}),Object.entries(pn).forEach(([r,a])=>{Object.entries(F).forEach(([s,i])=>{n(r+s,a+i[1])}),n(`${r}ぃ`,`${a}yi`),n(`${r}ぇ`,`${a}e`)}),e.っ=Ye(e),Object.entries(dn).forEach(([r,a])=>{n(r,a)}),un.forEach(r=>{n(`ん${r}`,`n'${t(r)[""]}`)}),Object.freeze(JSON.parse(JSON.stringify(e)))}function Ye(e){return Object.entries(e).reduce((t,[n,r])=>{if(n)t[n]=Ye(r);else{const a=r.charAt(0);t[n]=Object.keys(ve).includes(a)?ve[a]+r:r}return t},{})}const Ve=Ie((e,t)=>{let n=mn(e);return t&&(n=Ue(n,t)),n},C);function M(e="",t={},n){const r=B(t);return n||(n=Ve(r.romanization,r.customRomajiMapping)),_n(e,r,n).map(a=>{const[s,i,o]=a;return r.upcaseKatakana&&Ge(e.slice(s,i))?o.toUpperCase():o}).join("")}function _n(e,t,n){n||(n=Ve(t.romanization,t.customRomajiMapping));const r=Object.assign({},{isDestinationRomaji:!0},t);return Ke(J(e,M,r),n,!t.IMEMode)}function $e(e=""){return k(e)?!1:zt.some(([t,n])=>I(e,t,n))}function bn(e="",t={}){const n=B(t);if(n.passRomaji)return J(e,M,n);if(qe(e,{passKanji:!0})){const r=J(e,M,n);return Q(r.toLowerCase(),n)}return se(e)||$e(e)?Q(e.toLowerCase(),n):J(e,M,n)}function An(e="",t={}){const n=B(t);if(n.passRomaji)return P(e);if(qe(e)||se(e)||$e(e)){const r=Q(e.toLowerCase(),n);return P(r)}return P(e)}const kn=[{key:"kana",label:"Kana",modes_label:"Kana Type",modes:[{key:"katakana",label:"Katakana",modes_label:"Characters to include",modes:[{key:"monographs",label:"Monographs"},{key:"diacritics",label:"+ Diacritics"},{key:"digraphs",label:"+ Digraphs"},{key:"all",label:"All"}]},{key:"hiragana",label:"Hiragana",modes_label:"Characters to include",modes:[{key:"monographs",label:"Monographs"},{key:"diacritics",label:"+ Diacritics"},{key:"digraphs",label:"+ Digraphs"},{key:"all",label:"All"}]}]},{key:"greek",label:"Greek",modes_label:"Mode",modes:[{key:"transcriptions",label:"Transcriptions",modes_label:"Characters to include",modes:[{key:"monographs",label:"Monographs",modes_label:"Case",modes:[{key:"upper",label:"Upper"},{key:"lower",label:"Lower"}]},{key:"digraphs",label:"+ Digraphs",modes_label:"Case",modes:[{key:"upper",label:"Upper"},{key:"lower",label:"Lower"}]}]},{key:"names",label:"Names",modes_label:"Case",modes:[{key:"upper",label:"Upper"},{key:"lower",label:"Lower"}]}]},{key:"cyrillic",label:"Cyrillic",modes_label:"Language",modes:[{key:"bulgarian",label:"Bulgarian",modes_label:"Case",modes:[{key:"upper",label:"Upper"},{key:"lower",label:"Lower"}]},{key:"russian",label:"Russian",modes_label:"Case",modes:[{key:"upper",label:"Upper"},{key:"lower",label:"Lower"}]},{key:"serbian",label:"Serbian",modes_label:"Case",modes:[{key:"upper",label:"Upper"},{key:"lower",label:"Lower"}]}]}];function We(e,t=""){return e.map(n=>{const r=t?`${t}-${n.key}`:n.key,a={...n,full_key:r};return n.modes&&(a.modes=We(n.modes,r)),a})}const wn=We(kn);function vn(e,t=[]){const n=[],r={};function a(s,i){s.forEach(o=>{const c=[...i,o];o.modes?a(o.modes,c):(n.push(o.full_key),r[o.full_key]=c.map(u=>u.key))})}return a(e,t),{keys:n,paths:r}}const{keys:Fe,paths:On}=vn(wn);console.log(On);function Qe(e){return e.split("-")}const S=Me("game-config",{id:"",path:Qe(""),is_valid:!1});function Rn(e,t){S.update(n=>{const r=[...n.id.split("-").slice(0,t),e].join("-");return{id:r,path:Qe(r),is_valid:Fe.includes(r)}})}const D={monographs:["あ","い","う","え","お","か","き","く","け","こ","さ","し","す","せ","そ","た","ち","つ","て","と","な","に","ぬ","ね","の","ま","み","む","め","も","は","ひ","ふ","へ","ほ","や","ゆ","よ","ら","り","る","れ","ろ","わ","を","ん"],diacritics:["が","ぎ","ぐ","げ","ご","ざ","じ","ず","ぜ","ぞ","だ","ぢ","づ","で","ど","ば","び","ぶ","べ","ぼ","ぱ","ぴ","ぷ","ぺ","ぽ"],digraphs:["きゃ","きゅ","きょ","しゃ","しゅ","しょ","ちゃ","ちゅ","ちょ","にゃ","にゅ","にょ","ひゃ","ひゅ","ひょ","みゃ","みゅ","みょ","りゃ","りゅ","りょ"],digraphs_diacritics:["ぎゃ","ぎゅ","ぎょ","じゃ","じゅ","じょ","びゃ","びゅ","びょ","ぴゃ","ぴゅ","ぴょ"]},En=new Map([["し",["shi","si"]],["ち",["chi","ti"]],["つ",["tsu","tu"]],["ふ",["fu","hu"]],["じ",["ji","zi"]],["ぢ",["di","ji"]],["づ",["du","zu"]],["じゃ",["ja","jya"]],["じゅ",["ju","jyu"]],["じょ",["jo","jyo"]]]),v={lower_monographs:["α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","ς","τ","υ","φ","χ","ψ","ω"],upper_monographs:["Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω"],digraphs:["ου","αυ","ευ","ηυ","μπ","ντ","γκ","γγ","τζ","γχ","γξ","αι","υι","οι","ει"],names:{α:["alpha"],β:["beta"],γ:["gamma"],δ:["delta"],ε:["epsilon"],ζ:["zeta"],η:["eta"],θ:["theta"],ι:["iota"],κ:["kappa"],λ:["lambda","lamda"],μ:["mu"],ν:["nu"],ξ:["xi"],ο:["omicron","omikron"],π:["pi"],ρ:["rho"],σ:["sigma"],ς:["sigma"],τ:["tau"],υ:["upsilon"],φ:["phi"],χ:["chi"],ψ:["psi"],ω:["omega"]},transcriptions:{α:["a"],β:["v"],γ:["g"],δ:["d"],ε:["e"],ζ:["z"],η:["i"],θ:["th"],ι:["i"],κ:["k"],λ:["l"],μ:["m"],ν:["n"],ξ:["x","ks"],ο:["o"],π:["p"],ρ:["r","rh"],σ:["s"],ς:["s"],τ:["t"],υ:["y","u"],φ:["ph","f"],χ:["kh","ch"],ψ:["ps"],ω:["o"],ου:["u"],αυ:["af","av"],ευ:["ef","ev"],ηυ:["if","iv"],μπ:["b","mb"],ντ:["d","nd"],γκ:["g","ng","nk"],γγ:["g","ng","ngh"],τζ:["dz","tz"],ωυ:["oi"],γχ:["ngkh","nkh"],γξ:["ngx","ngks"],αι:["e"],υι:["i"],οι:["i"],ει:["i"]},pronunciations:{α:["f","a","ther"],β:["","v","ote"],γ:["la","g","o (Spanish)"],δ:["","th","en"],ε:["overl","a","y"],ζ:["","z","oo"],η:["mach","i","ne (short)"],θ:["","th","in"],ι:["mach","i","ne (short)"],κ:["ma","k","e"],λ:["","l","antern"],μ:["","m","usic"],ν:["","n","et"],ξ:["fo","x",""],ο:["g","o","t"],π:["s","p","ot"],ρ:["ca","rr","o (Spanish)"],σ:["","s","oft"],ς:["","s","oft"],τ:["s","t","oke"],υ:["mach","i","ne (short)"],φ:["","f","ive"],χ:["lo","ch"," (Scottish)"],ψ:["la","ps","e"],ω:["l","aw",""],μπ:["","b","ee (beginning of words); otherwise","co","mb","at"],ντ:["","d","og (beginning of words); otherwise","la","nd",""],γκ:["","g","arage (beginning of words); otherwise","fi","ng","er"],γγ:["fu","ng","us"],τζ:["ro","ds",""],ωυ:["oi"],γχ:["ki","ng","(=γ, followed χ=kh)"],γξ:["ly","nx",""],αι:["p","e","t"],υι:["m","ee","t (short)"],οι:["m","ee","t (short)"],ει:["m","ee","t (short)"],ου:["b","oo","t"],αυ:["h","av","e (before voiced consonants); otherwise","","af","ter (before unvoiced consonants)"],ευ:["","ev","ery before voiced consonants or any vowel; otherwise","","ef","fort (before unvoiced consonants)"],ηυ:["","ev","ening (before voiced consonants or any vowel); otherwise","b","eef"," (before unvoiced consonants)"]}},x={bg_lower:["а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ь","ю","я"],ru_lower:["а","б","в","г","д","е","ё","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"],sr_lower:["а","б","в","г","д","ђ","е","ж","з","и","ј","к","л","љ","м","н","њ","о","п","р","с","т","ћ","у","ф","х","ц","ч","џ","ш"],bg_transcriptions:{а:["a"],б:["b"],в:["v"],г:["g"],д:["d"],е:["e"],ж:["zh"],з:["z"],и:["i"],й:["y","i"],к:["k"],л:["l"],м:["m"],н:["n"],о:["o"],п:["p"],р:["r"],с:["s"],т:["t"],у:["u"],ф:["f"],х:["kh"],ц:["ts","c"],ч:["ch"],ш:["sh"],щ:["sht"],ъ:["a","uh"],ь:["y","i"],ю:["yu","ju"],я:["ya","ja"]},ru_transcriptions:{а:["a"],б:["b"],в:["v"],г:["g"],д:["d"],е:["ye","e"],ё:["yo"],ж:["zh"],з:["z"],и:["i"],й:["y","i"],к:["k"],л:["l"],м:["m"],н:["n"],о:["o"],п:["p"],р:["r"],с:["s"],т:["t"],у:["u"],ф:["f"],х:["kh","h"],ц:["ts","c"],ч:["ch"],ш:["sh"],щ:["shch","sch"],ъ:["-",""],ы:["y"],ь:["-",""],э:["e"],ю:["yu","ju"],я:["ya","ja"]},sr_transcriptions:{а:["a"],б:["b"],в:["v"],г:["g"],д:["d"],ђ:["dj"],е:["e"],ж:["zh"],з:["z"],и:["i"],ј:["y","i"],к:["k"],л:["l"],љ:["lj","ly"],м:["m"],н:["n"],њ:["nj","ny"],о:["o"],п:["p"],р:["r"],с:["s"],т:["t"],ћ:["tsh"],у:["u"],ф:["f"],х:["kh"],ц:["ts","c"],ч:["ch"],џ:["dzh"],ш:["sh"]},bg_pronunciations:{а:["f","a","ther"],б:["","b","ug"],в:["","v","et"],г:["","g","ood"],д:["","d","og"],е:["b","e","st"],ж:["trea","s","ure"],з:["","z","oo"],и:["mach","i","ne"],й:["","y","es"],к:["","k","ick"],л:["ca","ll",""],м:["","m","an"],н:["","n","ormal"],о:["","o","rder"],п:["","p","et"],р:["pe","rr","o (rolled)"],с:["","s","ound"],т:["s","t","ick"],у:["b","oo","t"],ф:["","f","ood"],х:["lo","ch"," (Scottish)"],ц:["fi","ts",""],ч:["","ch","ip"],ш:["","sh","ot"],щ:["","sht","ick"],ъ:["t","u","rn"],ь:["can","y","on"],ю:["","you","th"],я:["","ya","k"]},ru_pronunciations:{а:["f","a","ther"],б:["","b","ed"],в:["","v","ine"],г:["","g","o"],д:["","d","o"],е:["","ye","s"],ё:["","yo","ur"],ж:["mea","s","ure"],з:["","z","ap"],и:["pol","i","ce"],й:["to","y",""],к:["","k","ept"],л:["fee","l",""],м:["","m","ap"],н:["","n","ot"],о:["m","o","re"],п:["","p","anic"],р:["pe","rr","o (rolled)"],с:["","s","et"],т:["","t","op"],у:["t","oo","l"],ф:["","f","ace"],х:["lo","ch"," (Scottish)"],ц:["si","ts",""],ч:["","ch","eck"],ш:["hu","sh",""],щ:["","sh","ips"],ъ:["silent, prevents palatalization of the preceding consonant","",""],ы:["ros","e","s"],ь:["silent, palatalizes the preceding consonant","",""],э:["m","e","t"],ю:["","u","se"],я:["","ya","rd"]},sr_pronunciations:{а:["f","a","ther"],б:["","b","oy"],в:["","v","ictory"],г:["","g","o"],д:["","d","og"],ђ:["","dj","uke"],е:["p","e","t"],ж:["mea","s","ure"],з:["","z","oo"],и:["mach","i","ne"],ј:["","y","es"],к:["","k","ite"],л:["","l","amp"],љ:["mil","li","on"],м:["","m","oon"],н:["","n","o"],њ:["on","ni","on"],о:["f","o","r"],п:["","p","ot"],р:["pe","rr","o (rolled)"],с:["","s","un"],т:["","t","op"],ћ:["","t","une"],у:["r","u","ler"],ф:["","f","un"],х:["Ba","ch",", Johann Sebastian"],ц:["","ts","ar"],ч:["","ch","ess"],џ:["","j","ungle"],ш:["","sh","oe"]}};function Z(e){var t;switch((t=T(S))==null?void 0:t.path[0]){case"kana":return En.get(bn(e))??[M(e)];case"greek":switch(T(S).path[1]){case"transcriptions":return v.transcriptions[e.toLowerCase()];case"names":return v.names[e.toLowerCase()];default:return[]}case"cyrillic":switch(T(S).path[1]){case"bulgarian":return x.bg_transcriptions[e.toLowerCase()];case"russian":return x.ru_transcriptions[e.toLowerCase()];case"serbian":return x.sr_transcriptions[e.toLowerCase()];default:return[]}default:return[]}}function zn(e){return Z(e)[0]==="-"}function Un(e,t){var n;if(!((n=T(S))!=null&&n.is_valid))return!1;switch(T(S).path[0]){case"kana":return Z(t).includes(M(e.toLowerCase()));default:return Z(t).includes(e)}}function Dn(e,t,n,r,a){return(e-t)*(a-r)/(n-t)+r}function jn(e,t,n){return Math.min(Math.max(e,t),n)}function Hn(e){return jn(e,0,1)}function Pn(e,t=1){return t=Math.max(t,.1),e<.5?Math.pow(2*e,t)/2:1-Math.pow(2*(1-e),t)/2}function Jn(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function Bn(e){if(e==null||e<0)return"--:--.-";const[t,n]=e.toFixed(1).split("."),r=Math.floor(Number(t)/60).toString().padStart(2,"0"),a=(Number(t)%60).toString().padStart(2,"0");return`${r}:${a}.${n}`}function Sn(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function Oe(e){return[...D.monographs,...["all","diacritics"].includes(e)?D.diacritics:[],...["all","digraphs"].includes(e)?D.digraphs:[],...e==="all"?D.digraphs_diacritics:[]]}const Nn=_t(S,e=>{if(!e.is_valid)return[];switch(e.path[0]){case"kana":switch(e.path[1]){case"hiragana":return Oe(e.path[2]);case"katakana":return Oe(e.path[2]).map(t=>An(t));default:return[]}case"greek":switch(e.path[1]){case"transcriptions":switch(e.path[2]){case"monographs":switch(e.path[3]){case"upper":return v.upper_monographs;case"lower":return v.lower_monographs;default:return[]}case"digraphs":switch(e.path[3]){case"upper":return[...v.upper_monographs,...v.digraphs].map(t=>t.toUpperCase());case"lower":return[...v.lower_monographs,...v.digraphs];default:return[]}default:return[]}case"names":switch(e.path[2]){case"upper":return v.upper_monographs;case"lower":return v.lower_monographs;default:return[]}default:return[]}case"cyrillic":switch(e.path[1]){case"bulgarian":{const t=x.bg_lower;switch(e.path[2]){case"upper":return t.map(n=>n.toUpperCase());case"lower":return t;default:return[]}}case"russian":{const t=x.ru_lower;switch(e.path[2]){case"upper":return t.map(n=>n.toUpperCase());case"lower":return t;default:return[]}}case"serbian":{const t=x.sr_lower;switch(e.path[2]){case"upper":return t.map(n=>n.toUpperCase());case"lower":return t;default:return[]}}default:return[]}default:return[]}});function Ee(e){return{items:Sn(e).map((n,r)=>({id:`item-${r}`,glyph:n})),current_idx:0}}function Tn(){let e=[];Nn.subscribe(n=>{e=n});const t=Me("quiz-session",Ee(e));return{subscribe:t.subscribe,reset(){t.set(Ee(e))},sync(n,r,a){t.update(()=>({items:n,current_idx:r,is_timing:a}))},updateIndex(n){t.update(({items:r})=>({items:r,current_idx:n}))},updateItem(n,r){t.update(({items:a,current_idx:s})=>(a[n]=r(a[n]),{items:a,current_idx:s}))},updateTiming(n){t.update(({items:r,current_idx:a})=>({items:r,current_idx:a,is_timing:n}))}}}const Gn=Tn(),Cn=Fe.reduce((e,t)=>(e[t]=-1,e),{}),je=bt("high-scores",Cn);function qn(e,t){const n=T(je)[e];return n<0||t<n?(je.update(r=>({...r,[e]:t})),!0):!1}export{x as a,v as b,kn as c,zn as d,Kn as e,Z as f,S as g,Nn as h,In as i,Bn as j,je as k,Pn as l,Hn as m,Dn as n,Un as o,qn as p,Gn as q,Jn as r,Rn as u};
