import{d as pe,e as xe,b as E,a as d,c as de,t as S,h as Ce}from"../chunks/disclose-version.BUA5OMwm.js";import{i as se}from"../chunks/legacy.Dj62uwCN.js";import{Z as Se,h as fe,d as me,a4 as je,a6 as ge,am as Pe,ap as Le,an as ze,a1 as Te,ak as Ae,aB as Be,p as re,ac as O,ad as oe,c as f,D as e,ae as ee,t as T,r as o,s as R,f as N,a as ne,aC as C,Q as ue,B as y,u as V,af as De}from"../chunks/utils.Orrw684n.js";import{s as te,e as Z}from"../chunks/render.BzhloWRq.js";import{s as ie,i as M,a as G,b as he}from"../chunks/store.BWDhwiBo.js";import{a as F,s as ye,t as _e}from"../chunks/class.CG3TR01b.js";import{a as J,B as Re}from"../chunks/BottomBar.D3-QzMje.js";import{e as Q,u as $e,i as U,c as ce,g as ae,a as ve,b as qe,d as ke,f as Me,h as Oe,q as be,j as He,k as Ee}from"../chunks/scores.CBSKr-VJ.js";import{p as Ge}from"../chunks/props.GRKGSCY3.js";import{g as we}from"../chunks/index.CoOIDogu.js";import{t as Ie,a as Ne,s as X,b as Qe}from"../chunks/settings.C6SVDol6.js";import{a as Ue}from"../chunks/appearance.CmLdBTec.js";import{o as Ye}from"../chunks/index-client.CcZfx6tu.js";function Ze(_,p,x,n,i){var h=_,c="",m;Se(()=>{if(c===(c=p()??"")){fe&&me();return}m!==void 0&&(Be(m),m=void 0),c!==""&&(m=je(()=>{if(fe){ge.data;for(var v=me(),b=v;v!==null&&(v.nodeType!==8||v.data!=="");)b=v,v=Pe(v);if(v===null)throw Le(),ze;pe(ge,b),h=Te(v);return}var $=c+"",g=xe($);pe(Ae(g),g.lastChild),h.before(g)}))})}var Fe=S('<div><div class="sub-selection svelte-b2ge2z"></div></div>'),Je=S('<div><div class="alphabet-selection-container svelte-b2ge2z"><div class="selection alphabet svelte-b2ge2z"></div></div> <div class="selections-container svelte-b2ge2z"></div></div>');function Ke(_,p){re(p,!1);const x=ie(),n=()=>G(ae,"$game_config",x),i=C(),h=C();let c=C(10);function m(u){var a;let t=ce;for(const s of u)t=((a=t.find(r=>r.key===s))==null?void 0:a.modes)||[];return t}function v(u){let t=ce,a="";for(let s=0;s<u.length;s++){const r=t.find(l=>l.key===u[s]);s===u.length-1?a=(r==null?void 0:r.modes_label)||"":t=(r==null?void 0:r.modes)||[]}return a}O(()=>n(),()=>{var u;y(i,(u=n())==null?void 0:u.path)}),O(()=>e(i),()=>{y(h,e(i)[0])}),O(()=>e(i),()=>{setTimeout(()=>{y(c,e(i).length)},0)}),oe(),se();var b=Je(),$=f(b),g=f($);Q(g,5,()=>ce,U,(u,t)=>{var a=ue(()=>e(h)===e(t).key);J(u,{get selected(){return e(a)},get title(){return`Select ${e(t).label??""}`},$$events:{click:()=>$e(e(t).key,0)},children:(s,r)=>{ee();var l=E();T(()=>te(l,e(t).label)),d(s,l)},$$slots:{default:!0}})}),o(g),o($);var A=R($,2);Q(A,5,()=>Array.from({length:e(i).length},(u,t)=>t+1),U,(u,t)=>{var a=de(),s=N(a);{var r=l=>{var w=Fe();T(()=>F(w,"data-label",v(e(i).slice(0,e(t)))));var j=f(w);Q(j,5,()=>m(e(i).slice(0,e(t))),U,(P,L)=>{var q=ue(()=>e(i)[e(t)]===e(L).key);J(P,{get selected(){return e(q)},get title(){return`Select ${e(L).label??""}`},$$events:{click:()=>$e(e(L).key,e(t))},children:(Y,K)=>{ee();var B=E();T(()=>te(B,e(L).label)),d(Y,B)},$$slots:{default:!0}})}),o(j),o(w),T(()=>ye(w,`sub-selection-container ${(e(t)<=e(c)?"visible":"")??""} svelte-b2ge2z`)),d(l,w)};M(s,l=>{m(e(i).slice(0,e(t))).length>0&&l(r)})}d(u,a)}),o(A),o(b),d(_,b),ne()}function W(_,p){if(!p)return"";if(ke(_))return p.join(" ");const x=p.length/3;let n=[];for(let i=0;i<x;i++){const h=p[i*3],c=p[i*3+1],m=p[i*3+2];n.push(`<b>${c}</b> as in ${h}<b>${c}</b>${m}`)}return n.join(" ")}function Ve(_){var p;switch((p=we(ae))==null?void 0:p.path[0]){case"greek":return W(_.toLowerCase(),qe.pronunciations[_.toLowerCase()]);case"cyrillic":switch(we(ae).path[1]){case"bulgarian":return W(_.toLowerCase(),ve.bg_pronunciations[_.toLowerCase()]);case"russian":return W(_.toLowerCase(),ve.ru_pronunciations[_.toLowerCase()]);case"serbian":return W(_.toLowerCase(),ve.sr_pronunciations[_.toLowerCase()]);default:return""}default:return""}}var We=S('<div class="preview-item svelte-m9cixe"><div class="glyph-container svelte-m9cixe" role="tooltip"><span class="glyph svelte-m9cixe"> </span></div></div>'),Xe=S('<div class="pronunciations-container svelte-m9cixe"><span class="pronunciations svelte-m9cixe"><!></span></div>'),et=S('<div class="preview-container svelte-m9cixe"><div class="glyphs-container svelte-m9cixe"></div> <!></div>');function tt(_,p){re(p,!1);const x=ie(),n=()=>G(Oe,"$dictionary",x),i=C(),h=C();let c=Ge(p,"show_pronunciations",8),m=C(null),v=C(null);function b(t){y(m,t),y(v,Ve(e(m)))}O(()=>n(),()=>{y(i,n())}),O(()=>e(v),()=>{y(h,e(v)!=null&&e(v).length>0)}),oe(),se();var $=et(),g=f($);Q(g,5,()=>e(i),U,(t,a)=>{var s=We(),r=f(s);T(()=>F(r,"data-answer",ke(e(a))?"Silent":Me(e(a)).join(" / ")));var l=f(r),w=f(l,!0);o(l),o(r),o(s),T(()=>te(w,e(a))),Z("mouseenter",r,()=>{c()&&b(e(a))}),Z("mouseleave",r,()=>{c()&&y(m,y(v,null))}),d(t,s)}),o(g);var A=R(g,2);{var u=t=>{var a=Xe(),s=f(a),r=f(s);Ze(r,()=>e(v)),o(s),o(a),T(()=>_e(s,"is-active",e(h))),d(t,a)};M(A,t=>{c()&&t(u)})}o($),d(_,$),ne()}var at=S('<div class="button-container svelte-w29ypt"><button type="button" class="color-button appearance svelte-w29ypt"><span class="material-symbols-rounded icon svelte-w29ypt"><!></span></button></div>'),st=S('<div class="button-container svelte-w29ypt"><button type="button" style="background-color: linear-gradient(to bottom right, black 47%, white 53%);"></button></div>'),rt=S('<div class="palette-container svelte-w29ypt"><div class="palette-drawer-contents svelte-w29ypt"><div class="palette svelte-w29ypt"></div> <div class="palette colour svelte-w29ypt"></div></div> <button class="palette-drawer-handle svelte-w29ypt"><span class="material-symbols-rounded icon svelte-w29ypt">palette</span></button></div>');function ot(_,p){re(p,!1);const x=ie(),n=()=>G(X,"$settings",x),i=()=>G(Ue,"$appearance_store",x),h=C();let c=C(!1);const m=t=>{he(X,V(n).appearance=t,V(n))},v=t=>{he(X,V(n).colour=t,V(n))};O(()=>n(),()=>{y(h,n().colour)}),oe(),se();var b=rt(),$=f(b),g=f($);Q(g,5,()=>Ie,U,(t,a)=>{var s=de(),r=N(s);{var l=w=>{var j=at(),P=f(j),L=f(P),q=f(L);{var Y=B=>{var I=E("brightness_auto");d(B,I)},K=B=>{var I=de(),le=N(I);{var k=z=>{var H=E("dark_mode");d(z,H)},D=z=>{var H=E("light_mode");d(z,H)};M(le,z=>{e(a)==="dark"?z(k):z(D,!1)},!0)}d(B,I)};M(q,B=>{e(a)==="auto"?B(Y):B(K,!1)})}o(L),o(P),o(j),T(()=>F(P,"aria-label",`Set theme appearance to ${e(a)}`)),Z("click",P,()=>m(e(a))),d(w,j)};M(r,w=>{n().appearance!==e(a)&&w(l)})}d(t,s)}),o(g);var A=R(g,2);Q(A,5,()=>Ne,U,(t,a)=>{var s=st(),r=f(s);o(s),T(()=>{ye(r,`color-button ${i()??""}-theme-${e(a)??""} ${(e(a)===e(h)?"active":"")??""} svelte-w29ypt`),F(r,"aria-label",`Set theme colour to ${e(a)}`)}),Z("click",r,()=>v(e(a))),d(t,s)}),o(A),o($);var u=R($,2);o(b),T(()=>{_e($,"open",e(c)),F(u,"title",`${(e(c)?"Close":"Open")??""} palette`)}),Z("click",u,()=>y(c,!e(c))),d(_,b),ne()}var nt=S("<!> <!>",1),it=S('<span class="stopwatch-button-content svelte-1t8ju70">Use Stopwatch <span class="material-symbols-rounded icon svelte-1t8ju70">timer</span></span>'),lt=S('<span class="high-score svelte-1t8ju70"> </span>'),ct=S('<div class="stopwatch-section svelte-1t8ju70"><!> <!></div> <!>',1),vt=S('<div class="wrapper svelte-1t8ju70"><div class="top-bar svelte-1t8ju70"><a href="/" class="title svelte-1t8ju70">glyph-glyph</a> <span class="palette"><!></span></div> <!></div> <!>',1);function xt(_,p){re(p,!1);const x=ie(),n=()=>G(ae,"$game_config",x),i=()=>G(Ee,"$high_scores",x),h=()=>G(X,"$settings",x),c=C(),m=C(),v=C();let b=C(!0);Ye(()=>{const l=be.subscribe(()=>{y(b,!1)});return()=>l()}),O(()=>n(),()=>{y(c,n().id)}),O(()=>(i(),e(c)),()=>{y(m,i()[e(c)])}),O(()=>n(),()=>{var l;y(v,["greek","cyrillic"].includes((l=n())==null?void 0:l.path[0]))}),oe(),se();var $=vt();Ce(l=>{De.title="Setup Â· glyph-glyph"});var g=N($),A=f(g),u=R(f(A),2),t=f(u);ot(t,{}),o(u),o(A);var a=R(A,2);{var s=l=>{var w=nt(),j=N(w);Ke(j,{});var P=R(j,2);{var L=q=>{tt(q,{get show_pronunciations(){return e(v)}})};M(P,q=>{n().is_valid&&q(L)})}d(l,w)};M(a,l=>{e(b)||l(s)})}o(g);var r=R(g,2);Re(r,{children:(l,w)=>{var j=ct(),P=N(j),L=f(P),q=ue(()=>`Turn stopwatch ${(h().using_stopwatch?"off":"on")??""}`);J(L,{get selected(){return h().using_stopwatch},get title(){return e(q)},$$events:{click:()=>{Qe()}},children:(k,D)=>{var z=it();d(k,z)},$$slots:{default:!0}});var Y=R(L,2);{var K=k=>{var D=lt(),z=f(D);T(()=>te(z,`${He(e(m))??""}s`)),o(D),T(()=>_e(D,"not-set",e(m)<0)),d(k,D)};M(Y,k=>{n().is_valid&&h().using_stopwatch&&k(K)})}o(P);var B=R(P,2);{var I=k=>{J(k,{href:"play",selected:!0,title:"Start game",$$events:{click:()=>{be.reset()}},children:(D,z)=>{ee();var H=E("Start");d(D,H)},$$slots:{default:!0}})},le=k=>{J(k,{style:"disactivated",children:(D,z)=>{ee();var H=E("Start");d(D,H)},$$slots:{default:!0}})};M(B,k=>{n().is_valid?k(I):k(le,!1)})}d(l,j)},$$slots:{default:!0}}),d(_,$),ne()}export{xt as component};
