import{b as ut,e as St,d as K,a as v,c as ct,t as w,h as At}from"../chunks/disclose-version.B8nYLgL4.js";import{i as et}from"../chunks/legacy.CgpFKzs7.js";import{W as Lt,h as pt,d as _t,a1 as Tt,a3 as ft,ah as jt,ak as Dt,ai as qt,_ as Bt,af as It,aD as Mt,p as at,a9 as O,aa as st,c as p,A as t,ay as gt,t as A,r as i,s as j,f as tt,a as rt,aw as L,M as vt,y,u as X,ax as Rt}from"../chunks/utils.BlbffUCT.js";import{s as N,e as Q}from"../chunks/render.C1RE0XEP.js";import{s as ot,i as M,a as G,b as mt}from"../chunks/store.CbB5JJSv.js";import{m as U,u as ht,n as W,o as lt,j as J,i as wt,d as nt,c as yt,g as xt,p as Ht,q as Ot,t as zt,f as Et,k as dt,r as Ft}from"../chunks/dictionary.DvAqtcLt.js";import{a as V,B as Gt}from"../chunks/BottomBar.Dn0P_sCk.js";import{p as Nt}from"../chunks/props.BQz8PEny.js";import{g as $t,i as Ct,a as Ut,q as bt,h as Wt}from"../chunks/scores.Cs28ELpU.js";import{g as Pt}from"../chunks/index.C7ygDqEZ.js";import{t as Yt,a as Jt,s as Z,b as Kt}from"../chunks/settings.BbKrtD84.js";import{a as Qt}from"../chunks/appearance.BTygaRe9.js";import{o as Vt}from"../chunks/index-client.DXjkudc0.js";function Xt(c,n,d,r,l){var b=c,f="",g;Lt(()=>{if(f===(f=n()??"")){pt&&_t();return}g!==void 0&&(Mt(g),g=void 0),f!==""&&(g=Tt(()=>{if(pt){ft.data;for(var u=_t(),x=u;u!==null&&(u.nodeType!==8||u.data!=="");)x=u,u=jt(u);if(u===null)throw Dt(),qt;ut(ft,x),b=Bt(u);return}var $=f+"",h=St($);ut(It(h),h.lastChild),b.before(h)}))})}var Zt=w('<div><div class="sub-selection svelte-cfhpm1"></div></div>'),te=w('<div><div class="alphabet-selection-container svelte-cfhpm1"><div class="selection alphabet svelte-cfhpm1"></div></div> <div class="selections-container svelte-cfhpm1"></div></div>');function ee(c,n){at(n,!1);const d=ot(),r=()=>G(nt,"$game_config",d),l=L(),b=L();let f=L(10);function g(s){var o;let e=lt;for(const a of s)e=((o=e.find(_=>_.key===a))==null?void 0:o.modes)||[];return e}function u(s){let e=lt,o="";for(let a=0;a<s.length;a++){const _=e.find(m=>m.key===s[a]);a===s.length-1?o=(_==null?void 0:_.modes_label)||"":e=(_==null?void 0:_.modes)||[]}return o}async function x(s,e){await ht(s,e);const o=g(t(l));if(o.length==1){const a=o[0];x(a.key,e+1)}}O(()=>r(),()=>{var s;y(l,(s=r())==null?void 0:s.path)}),O(()=>t(l),()=>{y(b,t(l)[0])}),O(()=>t(l),()=>{setTimeout(()=>{y(f,t(l).length)},1)}),st(),et();var $=te(),h=p($),B=p(h);U(B,5,()=>lt,W,(s,e)=>{var o=vt(()=>t(b)===t(e).key);V(s,{get selected(){return t(o)},get title(){return`Select ${t(e).label??""}`},$$events:{click:()=>ht(t(e).key,0)},children:(a,_)=>{gt();var m=K();A(()=>N(m,t(e).label)),v(a,m)},$$slots:{default:!0}})}),i(B),i(h);var R=j(h,2);U(R,5,()=>Array.from({length:t(l).length},(s,e)=>e+1),W,(s,e)=>{var o=ct(),a=tt(o);{var _=m=>{var k=Zt();A(()=>J(k,"data-label",u(t(l).slice(0,t(e)))));var C=p(k);U(C,5,()=>g(t(l).slice(0,t(e))),W,(P,T)=>{var z=vt(()=>t(l)[t(e)]===t(T).key);V(P,{get selected(){return t(z)},get title(){return`Select ${t(T).label??""}`},$$events:{click:()=>x(t(T).key,t(e))},children:(E,D)=>{gt();var H=K();A(()=>N(H,t(T).label)),v(E,H)},$$slots:{default:!0}})}),i(C),i(k),A(()=>wt(k,`sub-selection-container ${(t(e)<=t(f)?"visible":"")??""} svelte-cfhpm1`)),v(m,k)};M(a,m=>{g(t(l).slice(0,t(e))).length>0&&m(_)})}v(s,o)}),i(R),i($),v(c,$),rt()}function kt(c,n){if(!n)return"";if(Ct(c))return n.join(" ");const d=n.length/3;let r=[];for(let l=0;l<d;l++){const b=n[l*3],f=n[l*3+1],g=n[l*3+2];r.push(`<b>${f}</b> as in ${b}<b>${f}</b>${g}`)}return r.join(" ")}function ae(c){var d;const n=(d=Pt(nt))==null?void 0:d.path;switch(n[0]){case"greek":return kt(c.toLowerCase(),xt.pronunciations[c.toLowerCase()]);case"cyrillic":{const r=yt.pronunciations[n[1]];return kt(c.toLowerCase(),r[c.toLowerCase()])}default:return""}}function Y(c){let n=[];for(let d=0;d<c.length;d++)n.push(`[${c[d]}]`);return n.join(" ")}function se(c){var d;const n=(d=Pt(nt))==null?void 0:d.path;switch(n[0]){case"kana":return Y(Ot.sounds[zt(c)]);case"greek":return Y(xt.sounds[c.toLowerCase()]);case"cyrillic":{const r=yt.sounds[n[1]];return Y(r[c.toLowerCase()])}case"persoarabic":{const r=Ht.sounds[n[1]];switch(n[1]){case"arabic":{const l=r[n[2]];return Y(l[$t(c)])}default:return Y(r[$t(c)])}}default:return""}}var re=w('<span class="glyph-info svelte-lfakcg"> <span class="ipa-style svelte-lfakcg"> </span></span>'),oe=w('<div class="preview-item svelte-lfakcg"><div class="glyph-container svelte-lfakcg" role="tooltip"><span class="glyph svelte-lfakcg"> </span> <!></div></div>'),ne=w('<div class="pronunciations-container svelte-lfakcg"><span class="pronunciations svelte-lfakcg"><!></span></div>'),ie=w('<div class="preview-container svelte-lfakcg"><div class="glyphs-container svelte-lfakcg"></div> <!></div>');function le(c,n){at(n,!1);const d=ot(),r=()=>G(Et,"$dictionary",d),l=L(),b=L();let f=Nt(n,"show_pronunciations",8),g=L(null),u=L(null);function x(s){y(g,s),y(u,ae(t(g)))}O(()=>r(),()=>{y(l,r())}),O(()=>t(u),()=>{y(b,t(u)!=null&&t(u).length>0)}),st(),et();var $=ie(),h=p($);U(h,5,()=>t(l),W,(s,e)=>{var o=oe(),a=p(o),_=p(a),m=p(_,!0);i(_);var k=j(_,2);{var C=P=>{var T=re(),z=p(T);A(()=>N(z,`${(Ct(t(e))?"Silent":Ut(t(e)).join(" / "))??""} `));var E=j(z),D=p(E,!0);A(()=>N(D,se(t(e)))),i(E),i(T),v(P,T)};M(k,P=>{t(g)==t(e)&&P(C)})}i(a),i(o),A(()=>N(m,t(e))),Q("mouseenter",a,()=>{x(t(e))}),Q("mouseleave",a,()=>{y(g,y(u,null))}),v(s,o)}),i(h);var B=j(h,2);{var R=s=>{var e=ne(),o=p(e),a=p(o);Xt(a,()=>t(u)),i(o),i(e),A(()=>dt(o,"is-active",t(b))),v(s,e)};M(B,s=>{f()&&s(R)})}i($),v(c,$),rt()}var ce=w('<div class="button-container svelte-xr3o2a"><button type="button" class="color-button appearance svelte-xr3o2a"><span class="material-symbols-rounded icon svelte-xr3o2a"><!></span></button></div>'),ve=w('<div class="button-container svelte-xr3o2a"><button type="button" style="background-color: linear-gradient(to bottom right, black 47%, white 53%);"></button></div>'),de=w('<div class="palette-container svelte-xr3o2a"><div class="palette-drawer-contents svelte-xr3o2a"><div class="palette svelte-xr3o2a"></div> <div class="palette colour svelte-xr3o2a"></div></div> <button class="palette-drawer-handle svelte-xr3o2a"><span class="material-symbols-rounded palette-icon svelte-xr3o2a">palette</span></button></div>');function ue(c,n){at(n,!1);const d=ot(),r=()=>G(Z,"$settings",d),l=()=>G(Qt,"$appearance_store",d),b=L();let f=L(!1);const g=s=>{mt(Z,X(r).appearance=s,X(r))},u=s=>{mt(Z,X(r).colour=s,X(r))};O(()=>r(),()=>{y(b,r().colour)}),st(),et();var x=de(),$=p(x),h=p($);U(h,5,()=>Yt,W,(s,e)=>{var o=ct(),a=tt(o);{var _=m=>{var k=ce(),C=p(k),P=p(C),T=p(P);{var z=D=>{var H=K("brightness_auto");v(D,H)},E=D=>{var H=ct(),S=tt(H);{var q=I=>{var it=K("dark_mode");v(I,it)},F=I=>{var it=K("light_mode");v(I,it)};M(S,I=>{t(e)==="dark"?I(q):I(F,!1)},!0)}v(D,H)};M(T,D=>{t(e)==="auto"?D(z):D(E,!1)})}i(P),i(C),i(k),A(()=>J(C,"aria-label",`Set theme appearance to ${t(e)}`)),Q("click",C,()=>g(t(e))),v(m,k)};M(a,m=>{r().appearance!==t(e)&&m(_)})}v(s,o)}),i(h);var B=j(h,2);U(B,5,()=>Jt,W,(s,e)=>{var o=ve(),a=p(o);i(o),A(()=>{wt(a,`color-button ${l()??""}-theme-${t(e)??""} ${(t(e)===t(b)?"active":"")??""} svelte-xr3o2a`),J(a,"aria-label",`Set theme colour to ${t(e)}`),J(a,"title",`Pick ${t(e)}`)}),Q("click",a,()=>u(t(e))),v(s,o)}),i(B),i($);var R=j($,2);i(x),A(()=>{dt($,"open",t(f)),J(R,"title",`${(t(f)?"Close":"Open")??""} palette`)}),Q("click",R,()=>y(f,!t(f))),v(c,x),rt()}var pe=w('<div class="config-container svelte-t1a8it"><!> <!></div>'),_e=w('<span class="button-content svelte-t1a8it"><span class="button-text svelte-t1a8it">Use Stopwatch</span> <span class="material-symbols-rounded icon svelte-t1a8it">timer</span></span>'),fe=w('<span class="high-score svelte-t1a8it"> </span>'),ge=w('<span class="button-content svelte-t1a8it"><span class="button-text svelte-t1a8it">Start</span> <span class="material-symbols-rounded icon svelte-t1a8it">arrow_forward</span></span>'),me=w('<span class="button-content svelte-t1a8it"><span class="button-text svelte-t1a8it">Start</span> <span class="material-symbols-rounded icon svelte-t1a8it">arrow_forward</span></span>'),he=w('<div class="stopwatch-section svelte-t1a8it"><!> <!></div> <!>',1),$e=w('<div class="contents svelte-t1a8it"><div class="top-bar svelte-t1a8it"><div class="title-container svelte-t1a8it"><a href="/" class="title">glyph-glyph</a></div> <span class="palette"><!></span></div> <!> <!></div>');function qe(c,n){at(n,!1);const d=ot(),r=()=>G(nt,"$game_config",d),l=()=>G(Wt,"$high_scores",d),b=()=>G(Z,"$settings",d),f=L(),g=L(),u=L();let x=L(!0);Vt(()=>{const a=bt.subscribe(()=>{y(x,!1)});return()=>a()}),O(()=>r(),()=>{y(f,r().id)}),O(()=>(l(),t(f)),()=>{y(g,l()[t(f)])}),O(()=>r(),()=>{var a;y(u,["greek","cyrillic"].includes((a=r())==null?void 0:a.path[0]))}),st(),et();var $=$e();At(a=>{Rt.title="Setup Â· glyph-glyph"});var h=p($),B=j(p(h),2),R=p(B);ue(R,{}),i(B),i(h);var s=j(h,2);{var e=a=>{var _=pe(),m=p(_);ee(m,{});var k=j(m,2);{var C=P=>{le(P,{get show_pronunciations(){return t(u)}})};M(k,P=>{r().is_valid&&P(C)})}i(_),v(a,_)};M(s,a=>{t(x)||a(e)})}var o=j(s,2);Gt(o,{children:(a,_)=>{var m=he(),k=tt(m),C=p(k),P=vt(()=>`Turn stopwatch ${(b().using_stopwatch?"off":"on")??""}`);V(C,{get selected(){return b().using_stopwatch},get title(){return t(P)},$$events:{click:()=>{Kt()}},children:(S,q)=>{var F=_e();v(S,F)},$$slots:{default:!0}});var T=j(C,2);{var z=S=>{var q=fe(),F=p(q);A(()=>N(F,`${Ft(t(g))??""}s`)),i(q),A(()=>dt(q,"not-set",t(g)<0)),v(S,q)};M(T,S=>{r().is_valid&&b().using_stopwatch&&S(z)})}i(k);var E=j(k,2);{var D=S=>{V(S,{href:"play",selected:!0,title:"Start game",$$events:{click:()=>{bt.reset()}},children:(q,F)=>{var I=ge();v(q,I)},$$slots:{default:!0}})},H=S=>{V(S,{style:"disactivated",children:(q,F)=>{var I=me();v(q,I)},$$slots:{default:!0}})};M(E,S=>{r().is_valid?S(D):S(H,!1)})}v(a,m)},$$slots:{default:!0}}),i($),v(c,$),rt()}export{qe as component};
