import{b as _t,e as xt,d as F,a as v,c as vt,t as y,h as Ct}from"../chunks/disclose-version.B8nYLgL4.js";import{i as at}from"../chunks/legacy.CgpFKzs7.js";import{W as St,h as pt,d as ft,a1 as Pt,a3 as mt,ah as Lt,ak as At,ai as Tt,_ as Dt,af as jt,aD as qt,p as st,a9 as z,aa as rt,c as u,A as t,ay as ht,t as L,r as o,s as q,f as Z,a as ot,aw as S,M as dt,y as w,u as Q,ax as Bt}from"../chunks/utils.BlbffUCT.js";import{s as tt,e as J}from"../chunks/render.C1RE0XEP.js";import{s as nt,i as O,a as G,b as gt}from"../chunks/store.CbB5JJSv.js";import{m as N,u as $t,n as U,o as lt,j as I,i as yt,d as et,c as ct,g as Mt,f as Rt,k as ut,q as Ot}from"../chunks/dictionary.oij6mhXY.js";import{a as K,B as zt}from"../chunks/BottomBar.COyH-fUU.js";import{p as Ht}from"../chunks/props.BQz8PEny.js";import{i as kt,g as Et,q as bt,h as Gt}from"../chunks/scores.igYzvDiL.js";import{g as wt}from"../chunks/index.C7ygDqEZ.js";import{t as It,a as Nt,s as X,b as Ut}from"../chunks/settings.BbKrtD84.js";import{a as Wt}from"../chunks/appearance.BTygaRe9.js";import{o as Yt}from"../chunks/index-client.DXjkudc0.js";function Ft(_,p,C,i,n){var $=_,l="",f;St(()=>{if(l===(l=p()??"")){pt&&ft();return}f!==void 0&&(qt(f),f=void 0),l!==""&&(f=Pt(()=>{if(pt){mt.data;for(var c=ft(),k=c;c!==null&&(c.nodeType!==8||c.data!=="");)k=c,c=Lt(c);if(c===null)throw At(),Tt;_t(mt,k),$=Dt(c);return}var g=l+"",h=xt(g);_t(jt(h),h.lastChild),$.before(h)}))})}var Jt=y('<div><div class="sub-selection svelte-cfhpm1"></div></div>'),Kt=y('<div><div class="alphabet-selection-container svelte-cfhpm1"><div class="selection alphabet svelte-cfhpm1"></div></div> <div class="selections-container svelte-cfhpm1"></div></div>');function Qt(_,p){st(p,!1);const C=nt(),i=()=>G(et,"$game_config",C),n=S(),$=S();let l=S(10);function f(s){var r;let e=lt;for(const a of s)e=((r=e.find(d=>d.key===a))==null?void 0:r.modes)||[];return e}function c(s){let e=lt,r="";for(let a=0;a<s.length;a++){const d=e.find(m=>m.key===s[a]);a===s.length-1?r=(d==null?void 0:d.modes_label)||"":e=(d==null?void 0:d.modes)||[]}return r}async function k(s,e){await $t(s,e);const r=f(t(n));if(r.length==1){const a=r[0];k(a.key,e+1)}}z(()=>i(),()=>{var s;w(n,(s=i())==null?void 0:s.path)}),z(()=>t(n),()=>{w($,t(n)[0])}),z(()=>t(n),()=>{setTimeout(()=>{w(l,t(n).length)},1)}),rt(),at();var g=Kt(),h=u(g),T=u(h);N(T,5,()=>lt,U,(s,e)=>{var r=dt(()=>t($)===t(e).key);K(s,{get selected(){return t(r)},get title(){return`Select ${t(e).label??""}`},$$events:{click:()=>$t(t(e).key,0)},children:(a,d)=>{ht();var m=F();L(()=>tt(m,t(e).label)),v(a,m)},$$slots:{default:!0}})}),o(T),o(h);var B=q(h,2);N(B,5,()=>Array.from({length:t(n).length},(s,e)=>e+1),U,(s,e)=>{var r=vt(),a=Z(r);{var d=m=>{var b=Jt();L(()=>I(b,"data-label",c(t(n).slice(0,t(e)))));var P=u(b);N(P,5,()=>f(t(n).slice(0,t(e))),U,(D,H)=>{var W=dt(()=>t(n)[t(e)]===t(H).key);K(D,{get selected(){return t(W)},get title(){return`Select ${t(H).label??""}`},$$events:{click:()=>k(t(H).key,t(e))},children:(Y,M)=>{ht();var R=F();L(()=>tt(R,t(H).label)),v(Y,R)},$$slots:{default:!0}})}),o(P),o(b),L(()=>yt(b,`sub-selection-container ${(t(e)<=t(l)?"visible":"")??""} svelte-cfhpm1`)),v(m,b)};O(a,m=>{f(t(n).slice(0,t(e))).length>0&&m(d)})}v(s,r)}),o(B),o(g),v(_,g),ot()}function V(_,p){if(!p)return"";if(kt(_))return p.join(" ");const C=p.length/3;let i=[];for(let n=0;n<C;n++){const $=p[n*3],l=p[n*3+1],f=p[n*3+2];i.push(`<b>${l}</b> as in ${$}<b>${l}</b>${f}`)}return i.join(" ")}function Vt(_){var p;switch((p=wt(et))==null?void 0:p.path[0]){case"greek":return V(_.toLowerCase(),Mt.pronunciations[_.toLowerCase()]);case"cyrillic":switch(wt(et).path[1]){case"bulgarian":return V(_.toLowerCase(),ct.bg_pronunciations[_.toLowerCase()]);case"russian":return V(_.toLowerCase(),ct.ru_pronunciations[_.toLowerCase()]);case"serbian":return V(_.toLowerCase(),ct.sr_pronunciations[_.toLowerCase()]);default:return""}default:return""}}var Xt=y('<div class="preview-item svelte-191e49w"><div class="glyph-container svelte-191e49w" role="tooltip"><span class="glyph svelte-191e49w"> </span></div></div>'),Zt=y('<div class="pronunciations-container svelte-191e49w"><span class="pronunciations svelte-191e49w"><!></span></div>'),te=y('<div class="preview-container svelte-191e49w"><div class="glyphs-container svelte-191e49w"></div> <!></div>');function ee(_,p){st(p,!1);const C=nt(),i=()=>G(Rt,"$dictionary",C),n=S(),$=S();let l=Ht(p,"show_pronunciations",8),f=S(null),c=S(null);function k(s){w(f,s),w(c,Vt(t(f)))}z(()=>i(),()=>{w(n,i())}),z(()=>t(c),()=>{w($,t(c)!=null&&t(c).length>0)}),rt(),at();var g=te(),h=u(g);N(h,5,()=>t(n),U,(s,e)=>{var r=Xt(),a=u(r);L(()=>I(a,"data-answer",kt(t(e))?"Silent":Et(t(e)).join(" / ")));var d=u(a),m=u(d,!0);o(d),o(a),o(r),L(()=>tt(m,t(e))),J("mouseenter",a,()=>{l()&&k(t(e))}),J("mouseleave",a,()=>{l()&&w(f,w(c,null))}),v(s,r)}),o(h);var T=q(h,2);{var B=s=>{var e=Zt(),r=u(e),a=u(r);Ft(a,()=>t(c)),o(r),o(e),L(()=>ut(r,"is-active",t($))),v(s,e)};O(T,s=>{l()&&s(B)})}o(g),v(_,g),ot()}var ae=y('<div class="button-container svelte-xr3o2a"><button type="button" class="color-button appearance svelte-xr3o2a"><span class="material-symbols-rounded icon svelte-xr3o2a"><!></span></button></div>'),se=y('<div class="button-container svelte-xr3o2a"><button type="button" style="background-color: linear-gradient(to bottom right, black 47%, white 53%);"></button></div>'),re=y('<div class="palette-container svelte-xr3o2a"><div class="palette-drawer-contents svelte-xr3o2a"><div class="palette svelte-xr3o2a"></div> <div class="palette colour svelte-xr3o2a"></div></div> <button class="palette-drawer-handle svelte-xr3o2a"><span class="material-symbols-rounded palette-icon svelte-xr3o2a">palette</span></button></div>');function oe(_,p){st(p,!1);const C=nt(),i=()=>G(X,"$settings",C),n=()=>G(Wt,"$appearance_store",C),$=S();let l=S(!1);const f=s=>{gt(X,Q(i).appearance=s,Q(i))},c=s=>{gt(X,Q(i).colour=s,Q(i))};z(()=>i(),()=>{w($,i().colour)}),rt(),at();var k=re(),g=u(k),h=u(g);N(h,5,()=>It,U,(s,e)=>{var r=vt(),a=Z(r);{var d=m=>{var b=ae(),P=u(b),D=u(P),H=u(D);{var W=M=>{var R=F("brightness_auto");v(M,R)},Y=M=>{var R=vt(),x=Z(R);{var A=j=>{var it=F("dark_mode");v(j,it)},E=j=>{var it=F("light_mode");v(j,it)};O(x,j=>{t(e)==="dark"?j(A):j(E,!1)},!0)}v(M,R)};O(H,M=>{t(e)==="auto"?M(W):M(Y,!1)})}o(D),o(P),o(b),L(()=>I(P,"aria-label",`Set theme appearance to ${t(e)}`)),J("click",P,()=>f(t(e))),v(m,b)};O(a,m=>{i().appearance!==t(e)&&m(d)})}v(s,r)}),o(h);var T=q(h,2);N(T,5,()=>Nt,U,(s,e)=>{var r=se(),a=u(r);o(r),L(()=>{yt(a,`color-button ${n()??""}-theme-${t(e)??""} ${(t(e)===t($)?"active":"")??""} svelte-xr3o2a`),I(a,"aria-label",`Set theme colour to ${t(e)}`),I(a,"title",`Pick ${t(e)}`)}),J("click",a,()=>c(t(e))),v(s,r)}),o(T),o(g);var B=q(g,2);o(k),L(()=>{ut(g,"open",t(l)),I(B,"title",`${(t(l)?"Close":"Open")??""} palette`)}),J("click",B,()=>w(l,!t(l))),v(_,k),ot()}var ne=y('<div class="config-container svelte-t1a8it"><!> <!></div>'),ie=y('<span class="button-content svelte-t1a8it"><span class="button-text svelte-t1a8it">Use Stopwatch</span> <span class="material-symbols-rounded icon svelte-t1a8it">timer</span></span>'),le=y('<span class="high-score svelte-t1a8it"> </span>'),ce=y('<span class="button-content svelte-t1a8it"><span class="button-text svelte-t1a8it">Start</span> <span class="material-symbols-rounded icon svelte-t1a8it">arrow_forward</span></span>'),ve=y('<span class="button-content svelte-t1a8it"><span class="button-text svelte-t1a8it">Start</span> <span class="material-symbols-rounded icon svelte-t1a8it">arrow_forward</span></span>'),de=y('<div class="stopwatch-section svelte-t1a8it"><!> <!></div> <!>',1),ue=y('<div class="contents svelte-t1a8it"><div class="top-bar svelte-t1a8it"><div class="title-container svelte-t1a8it"><a href="/" class="title">glyph-glyph</a></div> <span class="palette"><!></span></div> <!> <!></div>');function Se(_,p){st(p,!1);const C=nt(),i=()=>G(et,"$game_config",C),n=()=>G(Gt,"$high_scores",C),$=()=>G(X,"$settings",C),l=S(),f=S(),c=S();let k=S(!0);Yt(()=>{const a=bt.subscribe(()=>{w(k,!1)});return()=>a()}),z(()=>i(),()=>{w(l,i().id)}),z(()=>(n(),t(l)),()=>{w(f,n()[t(l)])}),z(()=>i(),()=>{var a;w(c,["greek","cyrillic"].includes((a=i())==null?void 0:a.path[0]))}),rt(),at();var g=ue();Ct(a=>{Bt.title="Setup Â· glyph-glyph"});var h=u(g),T=q(u(h),2),B=u(T);oe(B,{}),o(T),o(h);var s=q(h,2);{var e=a=>{var d=ne(),m=u(d);Qt(m,{});var b=q(m,2);{var P=D=>{ee(D,{get show_pronunciations(){return t(c)}})};O(b,D=>{i().is_valid&&D(P)})}o(d),v(a,d)};O(s,a=>{t(k)||a(e)})}var r=q(s,2);zt(r,{children:(a,d)=>{var m=de(),b=Z(m),P=u(b),D=dt(()=>`Turn stopwatch ${($().using_stopwatch?"off":"on")??""}`);K(P,{get selected(){return $().using_stopwatch},get title(){return t(D)},$$events:{click:()=>{Ut()}},children:(x,A)=>{var E=ie();v(x,E)},$$slots:{default:!0}});var H=q(P,2);{var W=x=>{var A=le(),E=u(A);L(()=>tt(E,`${Ot(t(f))??""}s`)),o(A),L(()=>ut(A,"not-set",t(f)<0)),v(x,A)};O(H,x=>{i().is_valid&&$().using_stopwatch&&x(W)})}o(b);var Y=q(b,2);{var M=x=>{K(x,{href:"play",selected:!0,title:"Start game",$$events:{click:()=>{bt.reset()}},children:(A,E)=>{var j=ce();v(A,j)},$$slots:{default:!0}})},R=x=>{K(x,{style:"disactivated",children:(A,E)=>{var j=ve();v(A,j)},$$slots:{default:!0}})};O(Y,x=>{i().is_valid?x(M):x(R,!1)})}v(a,m)},$$slots:{default:!0}}),o(g),v(_,g),ot()}export{Se as component};
