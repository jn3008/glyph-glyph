import{h as Be,a as f,t as h}from"../chunks/disclose-version.CYEZbGRd.js";import{i as Pe}from"../chunks/legacy.Dizh_e1X.js";import{p as qe,l as g,i as Ae,t as _,a as ze,j as r,$ as He,k as e,f as pe,c as a,s as n,r as t,m as l}from"../chunks/utils.DXvTgAFw.js";import{s as m,e as _e}from"../chunks/render.BS6rv_sO.js";import{s as Me,i as I,a as Y}from"../chunks/store.DLGdLQ_h.js";import{B as me,f as P,t as Te,e as Fe,g as Ie}from"../chunks/glyphs.HD24VDJ_.js";import{B as Ne}from"../chunks/BottomBar.3pZXi1NM.js";import{H as Ce,q as G,t as De,i as Ee,g as Ge}from"../chunks/times.DR_-6IxY.js";import{o as Je}from"../chunks/index-client.SJPFcUSQ.js";var Ke=h('<div class="time-text-container svelte-1en331j">New best time!</div> <div class="time new-best-color svelte-1en331j"> </div>',1),Le=h('<div class="column-container svelte-1en331j"><div class="column-item time svelte-1en331j"> </div> <div class="column-item muted-text svelte-1en331j"> </div></div>'),Oe=h('<span class="glyph-tooltip"> <span class="incorrect-color"> </span></span>'),Qe=h('<div class="item-container svelte-1en331j"><div class="glyph-container svelte-1en331j" role="tooltip"><span class="glyph svelte-1en331j"> </span> <!></div></div>'),Re=h('<div class="incorrect-items-container"><div class="glyphs-container-title svelte-1en331j">Incorrect answers:</div> <div class="glyphs-container"></div></div>'),Ue=h('<div class="info-container svelte-1en331j"><div class="info svelte-1en331j"><div class="info-block info-border svelte-1en331j"><div class="highlight-glyph svelte-1en331j"> </div> <div class="column-container svelte-1en331j"><span class="column-item muted-text svelte-1en331j">Fastest</span> <span class="column-item stat-time svelte-1en331j"> </span></div></div> <div class="info-block info-border svelte-1en331j"><div class="column-container svelte-1en331j"><span class="column-item muted-text svelte-1en331j">Average</span> <span class="column-item stat-time svelte-1en331j"> </span></div></div> <div class="info-block info-border svelte-1en331j"><div class="highlight-glyph svelte-1en331j"> </div> <div class="column-container svelte-1en331j"><span class="column-item muted-text svelte-1en331j">Slowest</span> <span class="column-item stat-time svelte-1en331j"> </span></div></div></div></div>'),Ve=h('<div class="stats-container svelte-1en331j"><div class="info-container svelte-1en331j"><div class="info svelte-1en331j"><div class="info-block info-border svelte-1en331j" data-label="Time"><!></div></div></div> <!> <!></div>'),We=h('<span class="button-content svelte-1en331j"><span class="button-text svelte-1en331j">Setup</span> <span class="material-symbols-rounded icon svelte-1en331j">tune</span></span>'),Xe=h('<span class="button-content svelte-1en331j"><span class="button-text svelte-1en331j">Play Again</span> <span class="material-symbols-rounded icon svelte-1en331j">refresh</span></span>'),Ye=h("<!> <!>",1),Ze=h('<div class="contents svelte-1en331j"><div class="top-bar svelte-1en331j"><div><a href="/">glyph-glyph</a> <span class="config-id svelte-1en331j"> </span></div></div> <div class="summary-contents svelte-1en331j"><div class="title-container svelte-1en331j">Summary</div> <!></div> <!> <!></div>');function os(ue,fe){qe(fe,!1);const J=Me(),K=()=>Y(Ie,"$game_config",J),Z=()=>Y(De,"$times_store",J),N=()=>Y(G,"$quiz",J),L=l(),q=l(),x=l(),o=l(),A=l(),ee=l(),se=l(),C=l(),te=l(),$=l(),ae=l();let ne=l(!0),re=l(!1),O=l(null);function ge(s){r(O,s)}Je(()=>{const s=G.subscribe(()=>{r(ne,!1)});return()=>s()});const he="";g(()=>K(),()=>{r(L,K().id)}),g(()=>(Z(),e(L)),()=>{r(q,Z().best_times[e(L)])}),g(()=>N(),()=>{r(x,N().elapsed_time)}),g(()=>N(),()=>{r(o,N().items)}),g(()=>e(o),()=>{r(A,e(o).every(s=>s==null?void 0:s.is_correct_answer))}),g(()=>e(o),()=>{r(ee,e(o).filter(s=>!(s!=null&&s.is_correct_answer)))}),g(()=>e(o),()=>{r(se,e(o).slice(1).every(s=>s!=null&&s.time_spent?(s==null?void 0:s.time_spent)>0:!1))}),g(()=>e(o),()=>{r(C,e(o).filter(s=>s==null?void 0:s.time_spent).map(s=>s.time_spent))}),g(()=>e(C),()=>{r(te,e(C).reduce((s,p)=>s+p,0)/e(C).length)}),g(()=>e(o),()=>{r($,e(o).reduce((s,p)=>(p.time_spent&&(p.time_spent<(s.min.time_spent||0)&&(s.min=p),p.time_spent>(s.max.time_spent||0)&&(s.max=p)),s),{min:e(o)[1],max:e(o)[1]}))}),g(()=>(e(A),e(x),e(q)),()=>{r(ae,e(A)&&e(x)>0&&e(q)>0&&e(x)<=e(q))}),Ae(),Pe();var Q=Ze();Be(s=>{He.title="Summary Â· glyph-glyph"});var R=a(Q),ie=a(R),ve=n(a(ie),2),je=a(ve,!0);t(ve),t(ie),t(R);var U=n(R,2),$e=n(a(U),2);{var ye=s=>{var p=Ve(),w=a(p),z=a(w),D=a(z),H=a(D);{var V=i=>{var v=Ke(),c=n(pe(v),2),u=a(c);_(()=>m(u,`${P(e(x))??""}s`)),t(c),f(i,v)},M=i=>{var v=Le(),c=a(v),u=a(c);_(()=>m(u,`${P(e(x))??""}s`)),t(c);var d=n(c,2),y=a(d);_(()=>m(y,`Best: ${P(e(q))??""}s`)),t(d),t(v),_(()=>Te(c,"incorrect-color",!e(A))),f(i,v)};I(H,i=>{e(ae)?i(V):i(M,!1)})}t(D),t(z),t(w);var oe=n(w,2);{var xe=i=>{var v=Re(),c=n(a(v),2);Fe(c,5,()=>e(ee),u=>u.glyph,(u,d)=>{var y=Qe(),b=a(y),k=a(b),W=a(k,!0);t(k);var T=n(k,2);{var E=S=>{var j=Oe(),F=a(j);_(()=>m(F,`${(Ee(e(d).glyph)?"Silent":Ge(e(d).glyph).join(" / "))??""} `));var B=n(F),X=a(B,!0);t(B),t(j),_(()=>m(X,e(d).answered)),f(S,j)};I(T,S=>{var j;((j=e(O))==null?void 0:j.glyph)==e(d).glyph&&S(E)})}t(b),t(y),_(()=>m(W,e(d).glyph)),_e("mouseenter",b,()=>{ge(e(d))}),_e("mouseleave",b,()=>{r(O,null)}),f(u,y)}),t(c),t(v),f(i,v)};I(oe,i=>{!e(A)&&e(se)&&i(xe)})}var we=n(oe,2);{var ke=i=>{var v=Ue(),c=a(v),u=a(c),d=a(u),y=a(d,!0);t(d);var b=n(d,2),k=n(a(b),2),W=a(k);_(()=>m(W,`${P(e($).min.time_spent)??""}s`)),t(k),t(b),t(u);var T=n(u,2),E=a(T),S=n(a(E),2),j=a(S);_(()=>m(j,`${P(e(te))??""}s`)),t(S),t(E),t(T);var F=n(T,2),B=a(F),X=a(B,!0);t(B);var ce=n(B,2),de=n(a(ce),2),Se=a(de);_(()=>m(Se,`${P(e($).max.time_spent)??""}s`)),t(de),t(ce),t(F),t(c),t(v),_(()=>{m(y,e($).min.glyph),m(X,e($).max.glyph)}),f(i,v)};I(we,i=>{e($).min.time_spent&&e($).max.time_spent&&i(ke)})}t(p),f(s,p)};I($e,s=>{e(ne)||s(ye)})}t(U);var le=n(U,2);Ce(le,{instructions:he,get is_open(){return e(re)},set is_open(s){r(re,s)},$$legacy:!0});var be=n(le,2);Ne(be,{children:(s,p)=>{var w=Ye(),z=pe(w);me(z,{href:"setup",selected:!0,title:"Setup",$$events:{click:()=>{G.reset()}},children:(H,V)=>{var M=We();f(H,M)},$$slots:{default:!0}});var D=n(z,2);me(D,{href:"play",selected:!0,title:"Play again",$$events:{click:()=>{G.reset()}},children:(H,V)=>{var M=Xe();f(H,M)},$$slots:{default:!0}}),f(s,w)},$$slots:{default:!0}}),t(Q),_(()=>m(je,K().id)),f(ue,Q),ze()}export{os as component};
